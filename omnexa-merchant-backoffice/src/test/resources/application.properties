# CRITICAL: Disable Spring Cloud Config BEFORE it tries to connect
spring.cloud.config.enabled=false
spring.cloud.config.import-check.enabled=false
spring.config.import=

# NEW: Disable Eureka and Service Registry (ADD THESE)
eureka.client.enabled=false
spring.cloud.discovery.enabled=false
spring.cloud.service-registry.auto-registration.enabled=false

# NEW: Disable Management Security (ADD THESE)
management.security.enabled=false
management.endpoints.enabled-by-default=false
management.endpoints.web.exposure.include=health

# H2 Database Configuration (your existing config)
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password

# JPA Configuration (your existing config)
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect
spring.jpa.defer-datasource-initialization=true

# JWT Security Configuration for Tests (your existing config)
omnexa.security.jwtKeyStorePath=/Users/maximillian/digicore/sofri/omnexa-merchant-backoffice/src/test/resources/test-keystore.jks
omnexa.security.jwtKeyStorePassword=testpassword
omnexa.security.jwtKeyAlias=testalias
omnexa.security.jwtPrivateKeyPassphrase=testpassword
omnexa.security.systemKey=TEST8EH2OF34WL9I8A

# Server Configuration (your existing config)
server.port=0

# Messages (your existing config)
spring.messages.basename=backoffice/backoffice-validation-messages

# Logging (your existing config)
logging.level.org.springframework.cloud.config=OFF
logging.level.org.springframework.web=DEBUG

# H2 Console (your existing config)
spring.h2.console.enabled=true


# Debug component scanning and request mapping
logging.level.org.springframework.context.annotation=DEBUG
logging.level.org.springframework.web.servlet.mvc.method.annotation=DEBUG
logging.level.org.springframework.web.servlet.handler=DEBUG
logging.level.com.digicore=DEBUG

# Show what components are being found
debug=true